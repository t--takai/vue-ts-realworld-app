(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["home"],{bb51:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home-page"},[a("home-banner"),a("div",{staticClass:"container page"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-9"},[a("common-feed",{attrs:{tabs:e.tabs,"active-tab-id":e.activeTabId,"is-loading":e.isLoading,feed:e.activeFeed,"items-per-page":e.itemsPerPage,"current-page":e.currentPage},on:{"page-changed":e.onPageChanged,"tab-changed":e.onTabChanged}})],1),a("div",{staticClass:"col-md-3"},[a("home-tags",{on:{"tag-selected":e.onTagFeedActivated}})],1)])])],1)},r=[],i=a("5530"),c=(a("96cf"),a("1da1")),s=a("d4ec"),u=a("bee2"),o=a("99de"),l=a("7e84"),g=a("262e"),d=a("9ab4"),h=a("60a3"),b=a("f63d"),p=function(e,t){t._c;return t._m(0)},v=[function(e,t){var a=t._c;return a("div",{staticClass:"banner"},[a("div",{staticClass:"container"},[a("h1",{staticClass:"logo-font"},[t._v("conduit")]),a("p",[t._v("A place to share your knowledge.")])])])}],f=function(e){function t(){return Object(s["a"])(this,t),Object(o["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(g["a"])(t,e),t}(h["d"]);f=Object(d["a"])([h["a"]],f);var m=f,j=m,O=a("2877"),w=Object(O["a"])(j,p,v,!0,null,null,null),y=w.exports,T=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.isLoading?a("div",[a("common-loader",{attrs:{size:7}})],1):a("div",{staticClass:"sidebar"},[a("p",[e._v("Popular Tags")]),a("div",{staticClass:"tag-list"},e._l(e.tags,(function(t){return a("a",{key:t,staticClass:"tag-pill tag-default",attrs:{href:"#"},on:{click:function(a){return a.preventDefault(),e.selectTag(t)}}},[e._v(" "+e._s(t)+" ")])})),0)])},k=[],x=a("bccb"),C=a("6fc5"),R=a("5ed2"),F="/tags",P=function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,R["a"].get(F);case 2:return a=e.sent,e.abrupt("return",null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.tags);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),L=a("0613"),_=a("6e90"),I=function(e){function t(){return Object(s["a"])(this,t),Object(o["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(g["a"])(t,e),Object(u["a"])(t,[{key:"get",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}]),t}(C["d"]);Object(d["a"])([Object(C["a"])({rawError:!0})],I.prototype,"get",null),I=Object(d["a"])([Object(C["b"])({dynamic:!0,namespaced:!0,store:L["a"],name:_["a"].tags})],I);var G=Object(C["e"])(I),M=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.tags=[],e.isLoading=!1,e}return Object(g["a"])(t,e),Object(u["a"])(t,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.getTags();case 2:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getTags",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.prev=1,e.next=4,G.get();case 4:this.tags=e.sent;case 5:return e.prev=5,this.isLoading=!1,e.finish(5);case 8:case"end":return e.stop()}}),e,this,[[1,,5,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"selectTag",value:function(e){return e}}]),t}(h["d"]);Object(d["a"])([Object(h["b"])("tag-selected")],M.prototype,"selectTag",null),M=Object(d["a"])([Object(h["a"])({components:{CommonLoader:x["a"]}})],M);var A,E=M,H=E,J=Object(O["a"])(H,T,k,!1,null,null,null),$=J.exports,z=a("b77b"),B=a("a080"),D=a("7f1d");(function(e){e["Global"]="Global",e["My"]="My",e["Tag"]="Tag"})(A||(A={}));var U=function(e){function t(){var e;return Object(s["a"])(this,t),e=Object(o["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.feedTypes=A,e.isLoading=!1,e.currentPage=z["b"],e.itemsPerPage=z["a"],e.activeTabId=A.My,e.activeFeed={articles:[],articlesCount:0},e.activeTag=null,e}return Object(g["a"])(t,e),Object(u["a"])(t,[{key:"mounted",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.activeTabId=this.isLoggedIn?A.My:A.Global,e.next=3,this.fetchFeed();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onTabChanged",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:e.t0=t,e.next=e.t0===A.My||e.t0===A.Global?3:e.t0===A.Tag?8:11;break;case 3:return this.activeTabId=t,this.currentPage=z["b"],e.next=7,this.fetchFeed();case 7:return e.abrupt("break",12);case 8:return e.next=10,this.onTagFeedActivated(this.activeTag||"");case 10:return e.abrupt("break",12);case 11:throw new Error("Unexpected tabId: ".concat(t));case 12:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onTagFeedActivated",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.activeTabId=A.Tag,this.currentPage=z["b"],this.activeTag=t,e.next=5,this.fetchFeed();case 5:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onPageChanged",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.currentPage=t,e.next=3,this.fetchFeed();case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"fetchFeed",value:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.isLoading=!0,e.prev=1,t={limit:this.itemsPerPage,offset:(this.currentPage-1)*this.itemsPerPage},e.t0=this.activeTabId,e.next=e.t0===A.Global?6:e.t0===A.Tag?10:e.t0===A.My?14:18;break;case 6:return e.next=8,B["a"].getList(Object(i["a"])({},t));case 8:return this.activeFeed=e.sent,e.abrupt("break",19);case 10:return e.next=12,B["a"].getList(Object(i["a"])({tag:this.activeTag},t));case 12:return this.activeFeed=e.sent,e.abrupt("break",19);case 14:return e.next=16,B["a"].getFeed(t);case 16:return this.activeFeed=e.sent,e.abrupt("break",19);case 18:return e.abrupt("break",19);case 19:return e.prev=19,this.isLoading=!1,window.scrollTo(0,0),e.finish(19);case 23:case"end":return e.stop()}}),e,this,[[1,,19,23]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"isLoggedIn",get:function(){return D["a"].isLoggedIn}},{key:"tabs",get:function(){var e=[];return this.isLoggedIn&&e.push({id:A.My,title:"Your Feed"}),e.push({id:A.Global,title:"Global Feed"}),this.activeTag&&this.activeTabId===A.Tag&&e.push({id:A.Tag,title:"#".concat(this.activeTag)}),e}}]),t}(h["d"]);U=Object(d["a"])([Object(h["a"])({components:{HomeBanner:y,HomeTags:$,CommonFeed:b["a"]}})],U);var Y=U,q=Y,K=Object(O["a"])(q,n,r,!1,null,null,null);t["default"]=K.exports}}]);
//# sourceMappingURL=home.8d1e81f8.js.map